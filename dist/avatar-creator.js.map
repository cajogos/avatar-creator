{"version":3,"sources":["MiniYou.js","Avatar.js","Canvas.js","Editor.js"],"names":["MINI_YOU","EDITOR","undefined","init","editorElement","canvasElement","Editor","CANVAS","Avatar","canvas","this","_initDraw","prototype","constructor","ctx","_canvas","get2DContext","fillStyle","fillRect","getWidth","getHeight","Canvas","getContext","_width","width","_avatar","_ctx","handleEditorAlert","message","data","console","log","_height","_listeners","self","on","e","parseText","attachListener","listener","push","i","_alertListeners","length","jsonText","JSON","text","_element","val","parse","background","color","css"],"mappings":"aAAA,IAAIA,UACAC,YAAQC,EADRF,YAAAA,EACAC,aAAQC,GAUZF,SAASG,KAAO,SAAUC,EAAeC,GAAzCL,SAAAC,OAAgB,IAAUG,SAAAA,OAAeC,GAErCL,SAASC,OAAS,IAAID,SAASM,OAAOF,GACtCJ,SAASO,aAAaP;aCV1BA,SAASQ,OAAS,SAASC,GAA3BT,KAASQ,QAASC,EAIdC,KAAKC,aACRX,SALDQ,OAAAI,UAAAC,YAAAb,SAAAQ,OAQAR,SAASQ,OAAOI,UAAUD,UAAY,WAElC,IAAIG,EAAMJ,KAAKK,QAAQC,eACvBF,EAAIG,UAAY,MAChBH,EAAII,SAAS,EAAG,EAAGR,KAAKK,QAAQI,WAAYT,KAAKK,QAAQK;aCZ7DpB,SAASqB,OAAS,SAASZ,GAA3BT,KAAAA,QAAAS,EAAkB,GAEjBC,KAAKK,KAALL,KAAeD,QAAfa,WAAA,MAGAZ,KAAKa,OAASb,KAAKK,QAAQS,MAA3Bd,KAAKa,QAASb,KAAKK,QAAQS,OAG3Bd,KAAKe,QAAU,IAAIzB,SAASQ,OAAOE,OACnCV,SATDqB,OAAAT,UAAAC,YAAAb,SAAAqB,OAeArB,SAASqB,OAAOT,UAAUI,aAAe,WAExC,OAAON,KAAKgB,MAGb1B,SAASqB,OAAOT,UAAUe,kBAAoB,SAAAC,EAAAC,GAA9CC,QAAAC,IAAA,gBAAAH,EAAAC,IAOC7B,SAAOqB,OAAKE,UAAZJ,SAAA,WAAA,OAAOT,KAAKa,QAMZvB,SAHDqB,OAAAT,UAAAQ,UAAA,WAEC,OAAOV,KAAKsB;aCpCbhC,SAASM,OAAS,SAAUF,GAA5BJ,KAASM,SAASF,EAIdM,KAAKuB,cAEL,IAAIC,EAAOxB,KAAXA,KAAIwB,SAAOC,GAAX,QAAA,SAAAC,GAGIF,EAAKG,eAGbrC,SAASM,OAAOM,UAAUC,YAAcb,SAASM,OAEjDN,SAASM,OAAOM,UAAU0B,eAAiB,SAAUC,GAArD7B,KAAAuB,WAAAO,KAAAD,IAOIvC,SAAKM,OAAImC,UAAWC,gBAAgBC,SACpCf,EAAAC,GAEC,IAAA,IAAAY,EAAA,EAAAA,EAAA/B,KAAAuB,WAAAU,OAAAF,IADG/B,KAAKuB,WAAWQ,GAAGd,kBAAkBC,EAASC,IAS9C7B,SAAAM,OAAIsC,UAAWC,UAAA,WAEX,IAAAC,EAAApC,KAAAqC,SAAcC,MACd,IAHJ,IAAIJ,EAAWC,KAAKI,MAAMH,GAM1BpC,KAAKgC,SAAAA,KAETQ,WACA,QACIC,MAAA,UAAkBzC,KAAlBgC,gBAAA,cAAAE,GAfR,MAAAR,GAeQ1B,KAAKqC,SAASK,KACVF,WAAc,SACdC,MAAS","file":"avatar-creator.js","sourcesContent":["var MINI_YOU = {\n    EDITOR: undefined,\n    CANVAS: undefined,\n    initialized: false\n};\n\n/**\n *\n * @param {jQuery|HTMLElement} editorElement\n * @param {jQuery|HTMLElement} canvasElement\n */\nMINI_YOU.init = function (editorElement, canvasElement)\n{\n    MINI_YOU.EDITOR = new MINI_YOU.Editor(editorElement);\n    MINI_YOU.CANVAS = new MINI_YOU.Canvas(canvasElement);\n    MINI_YOU.initialized = true;\n};","/**\n * @param {MINI_YOU.Canvas} canvas\n * @constructor\n */\nMINI_YOU.Avatar = function(canvas)\n{\n    this._canvas = canvas;\n\n    this._initDraw();\n};\nMINI_YOU.Avatar.prototype.constructor = MINI_YOU.Avatar;\n\nMINI_YOU.Avatar.prototype._initDraw = function()\n{\n    var ctx = this._canvas.get2DContext();\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, this._canvas.getWidth(), this._canvas.getHeight());\n};","/**\n * @param canvas\n * @constructor\n */\nMINI_YOU.Canvas = function(canvas)\n{\n\tthis._canvas = canvas[0];\n\tthis._ctx = this._canvas.getContext('2d');\n\n\tthis._width = this._canvas.width;\n\tthis._height = this._canvas.height;\n\n\tthis._avatar = new MINI_YOU.Avatar(this);\n};\nMINI_YOU.Canvas.prototype.constructor = MINI_YOU.Canvas;\n\n/**\n * @returns {CanvasRenderingContext2D|*}\n */\nMINI_YOU.Canvas.prototype.get2DContext = function()\n{\n\treturn this._ctx;\n};\n\nMINI_YOU.Canvas.prototype.handleEditorAlert = function(message, data)\n{\n\tconsole.log('editor alert!', message, data);\n};\n\nMINI_YOU.Canvas.prototype.getWidth = function()\n{\n\treturn this._width;\n};\n\nMINI_YOU.Canvas.prototype.getHeight = function()\n{\n\treturn this._height;\n};","MINI_YOU.Editor = function (editorElement)\n{\n    this._element = editorElement;\n\n    this._listeners = [];\n\n    var self = this;\n    this._element.on('keyup', function (e)\n    {\n        self.parseText();\n    });\n};\nMINI_YOU.Editor.prototype.constructor = MINI_YOU.Editor;\n\nMINI_YOU.Editor.prototype.attachListener = function (listener)\n{\n    this._listeners.push(listener);\n};\n\nMINI_YOU.Editor.prototype._alertListeners = function(message, data)\n{\n    for (var i = 0; i < this._listeners.length; i++)\n    {\n        this._listeners[i].handleEditorAlert(message, data);\n    }\n};\n\nMINI_YOU.Editor.prototype.parseText = function ()\n{\n    var text = this._element.val();\n    try\n    {\n        var jsonText = JSON.parse(text);\n        this._element.css({\n            'background': 'black',\n            'color': 'white'\n        });\n\n        this._alertListeners('jsonChanged', jsonText);\n    }\n    catch (e)\n    {\n        this._element.css({\n            'background': 'salmon',\n            'color': 'red'\n        });\n    }\n};"]}