"use strict";var MINI_YOU={EDITOR:void 0,CANVAS:void 0,initialized:!1};MINI_YOU.init=function(I,i){MINI_YOU.EDITOR=new MINI_YOU.Editor(I),MINI_YOU.CANVAS=new MINI_YOU.Canvas(i),MINI_YOU.EDITOR.attachListener(MINI_YOU.CANVAS),MINI_YOU.initialized=!0};
"use strict";MINI_YOU.Avatar=function(t){this._canvas=t,this._initDraw()},MINI_YOU.Avatar.prototype.constructor=MINI_YOU.Avatar,MINI_YOU.Avatar.prototype._initDraw=function(){var t=this._canvas.get2DContext();t.fillStyle="white",t.fillRect(0,0,this._canvas.getWidth(),this._canvas.getHeight())};
"use strict";MINI_YOU.Canvas=function(t){this._canvas=t[0],this._ctx=this._canvas.getContext("2d"),this._width=this._canvas.width,this._height=this._canvas.height,this._avatar=new MINI_YOU.Avatar(this)},MINI_YOU.Canvas.prototype.constructor=MINI_YOU.Canvas,MINI_YOU.Canvas.prototype.get2DContext=function(){return this._ctx},MINI_YOU.Canvas.prototype.handleEditorAlert=function(t,i){console.log("editor alert!",t,i)},MINI_YOU.Canvas.prototype.getWidth=function(){return this._width},MINI_YOU.Canvas.prototype.getHeight=function(){return this._height},MINI_YOU.Canvas.prototype.drawPolygon=function(t,i,n,a){this._ctx.beginPath(),this._ctx.moveTo(t,i);for(var o=0;o<n.length;o++){var s=n[o][0],h=n[o][1];this._ctx.lineTo(s,h)}this._ctx.closePath(),!0===a&&this._ctx.fill()};
"use strict";MINI_YOU.Editor=function(t){this._element=t,this._listeners=[];var e=this;this._element.on("keyup",function(t){e.parseText()}),this._element.on("keydown",function(t){switch(t.keyCode){case 9:t.preventDefault();var e=$(this).get(0).selectionStart,s=$(this).get(0).selectionEnd;$(this).val($(this).val().substring(0,e)+"    "+$(this).val().substring(s)),$(this).get(0).selectionStart=$(this).get(0).selectionEnd=e+4}})},MINI_YOU.Editor.prototype.constructor=MINI_YOU.Editor,MINI_YOU.Editor.prototype.attachListener=function(t){this._listeners.push(t)},MINI_YOU.Editor.prototype._alertListeners=function(t,e){for(var s=0;s<this._listeners.length;s++)this._listeners[s].handleEditorAlert(t,e)},MINI_YOU.Editor.prototype.parseText=function(){var t=this._element.val();try{var e=JSON.parse(t);this._element.css({background:"black",color:"white"}),this._alertListeners("jsonChanged",e)}catch(t){this._element.css({background:"salmon",color:"red"})}},MINI_YOU.Editor.prototype.setText=function(t){this._element.val(t),this.parseText()};
//# sourceMappingURL=avatar-creator.min.js.map
